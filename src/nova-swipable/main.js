(function(){(function(){(function(e,t){if(typeof exports=="object")module.exports=t();else if(typeof define=="function"&&define.amd)define("src/nova-swipable/main",[],t);else{var n="__1",r=n.split("."),i=e;for(var s=0;s<r.length-1;s++)i[r[s]]===undefined&&(i[r[s]]={}),i=i[r[s]];i[r[r.length-1]]=t()}})(this,function(){function e(e){return{}[e]}function a(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1],n="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1];return{dom:n,lowercase:t,css:"-"+t+"-",js:t}}function f(){var e=document.createElement("p"),t;return document.body.insertBefore(e,null),e.style[i]!=undefined&&(e.style[i]="translate3d(1px, 1px, 1px)",t=window.getComputedStyle(e).getPropertyValue(i)),document.body.removeChild(e),t!==undefined&&t.length>0&&t!=="none"}function l(e,t,n){var r=Date.now();return t=t||100,function(){var i=Date.now();if(i-r<t){n&&n.apply(this,arguments);return}r=i,e.apply(this,arguments)}}var t=undefined;NovaExports.__fixedUglify="script>",NovaExports.exports={stylesheet:":host{display:block}",template:"\n    "};var n=a(),r=window.requestAnimationFrame||window[n.js+"requestAnimationFrame"]||function(e){setTimeout(e,1e3/60)},i=n.css+"transform",s,o=325,u;return Nova.Components.NovaSwipable=NovaExports({is:"nova-swipable",props:{direction:{type:String,value:"vertical"},speed:{type:Number,value:.5}},createdHandler:function(){var e=this;s===undefined&&(s=f()),this.isVertical=this.direction==="vertical"?1:0,this.$element=$(this),this.$view=this.$element.children(),this.min=this.isVertical?this.$element.height()-this.$view.height():this.$element.width()-this.$view.width(),this.max=0;if(this.min>=0)return;this._initEvents(),$(window).on("resize",function(){e.refresh()})},refresh:function(){this.min=this.isVertical?this.$element.height()-this.$view.height():this.$element.width()-this.$view.width(),this.max=0,this.offset!==undefined&&(this.offset>this.max&&this._scroll(this.max),this.offset<this.min&&this._scroll(this.min))},_initEvents:function(){function b(t){u||(u=!0,i=undefined,v=0,m=0,h=e._pos(t),p=t.touches[0].clientX,d=t.touches[0].clientY,n.on("touchmove",y),n.on("touchend",E),n.on("touchcancel",E),a=e.offset,f=(new Date).getTime(),s=0,c=0)}function w(t){var n=t.touches[0].clientX,r=t.touches[0].clientY,s,o;if(e.isVertical)t.preventDefault();else{i===undefined&&(i=Math.abs(r-d)>Math.abs(n-p)?1:0);if(i===1)return;t.preventDefault()}e.trigger("nDrag"),s=e._pos(t),m=r-d,v=n-p,o=s-h,h=s;if(e.offset<e.min||e.offset>e.max)o/=4;e._scroll(e.offset+o),S()}function E(t){u=!1;var i,o=t.touches[0];n.off("touchmove",y),n.off("touchend",E),n.off("touchcancel",E),e.trigger("nRelease");if(e.offset<e.min||e.offset>e.max)g=e.offset<e.min?e.min:e.max,c=g-e.offset,f=(new Date).getTime(),r(T);else if(Math.abs(s)>80){c=e.speed*s,g=Math.round(e.offset+c),f=(new Date).getTime(),r(x);if(g<e.min||g>e.max)i=g<e.min?e.min:e.max}(Math.abs(v)>5||Math.abs(m)>5)&&t.preventDefault()}function S(){var t=(new Date).getTime(),n=e.offset-a,r=t-f,i=1e3*n/(1+r);s=.05*s+.95*i,a=e.offset,f=t}function x(){var t,n,i,s;if(c){t=(new Date).getTime()-f,n=-c*Math.exp(-t/o);if(Math.abs(n)>.5){if(e.offset>e.max||e.offset<e.min){i=g<e.min?e.min:e.max,s=Math.round(i+(g-i)/8);if(Math.abs(g+n)>Math.abs(s)){g=e.offset<e.min?e.min:e.max,c=g-e.offset,f=(new Date).getTime(),r(T);return}}e._scroll(g+n),r(x)}else e._scroll(g)}}function T(){var t,n;c&&(t=(new Date).getTime()-f,n=-c*Math.exp(-t/100),Math.abs(n)>.5?(e._scroll(g+n),r(T)):e._scroll(g))}var e=this,t=e.$element,n=$("body"),i,s,a,f,c,h,p,d,v,m,g;e.offset=0,t.on("touchstart",b);var y=l(w,1e3/70)},_scroll:function(e){var t=this;t.offset=e;if(s){var n=t.isVertical?"translate3d(0, "+t.offset+"px, 0)":"translate3d("+t.offset+"px, 0, 0)";t.$view.css({"-webkit-transform":n})}else{var n=t.isVertical?"translateY":"translateX";t.$view.css(i,n+"("+t.offset+"px)")}},_pos:function(e){return this.isVertical?e.touches[0].clientY:e.touches[0].clientX}}),t})}).call(window)})();